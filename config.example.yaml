# mrepo Configuration Example
#
# Copy this file to config.yaml and adjust settings as needed.
# Environment variables can override most settings.

# Database
database:
  path: /data/music.db
  timeout: 30  # Connection timeout in seconds

# Media paths - directories containing your music files
media:
  paths:
    - /music/
    # - /media/podcasts
    # - /media/audiobooks

# Streaming
streaming:
  url_prefix: /stream
  transcode_bitrate: 320k  # Bitrate for transcoded files
  ffmpeg_path: ffmpeg      # Path to FFmpeg binary

# Authentication
auth:
  # Secret key is auto-generated and stored in .secret_key file
  # Uncomment to override with a specific value:
  # secret_key: your-secret-key-here
  session_days: 30
  allow_registration: false  # Set to true to allow new user registration

# Background tasks
tasks:
  scan_on_startup: false
  # scan_schedule: "0 3 * * *"  # Cron expression for scheduled scans (null to disable)

# AI Features (optional)
# Requires a separate AI service deployment - see docker/docker-compose.yml
ai:
  enabled: false                    # Enable AI features
  # service_url: http://mrepo-ai:5002  # URL of AI service
  service_timeout: 10.0             # Timeout for AI service requests (seconds)
  search_timeout: 5.0               # Timeout for AI search queries (seconds)
  # Device configuration (for AI service itself)
  device: auto                      # "auto", "cpu", or "cuda"
  batch_size: 4                     # Songs to analyze in parallel
  segments_per_song: 3              # Audio segments per song for embedding
